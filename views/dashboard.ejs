<!DOCTYPE html>
<html>
<head>
  <title>Bot Dashboard</title>
</head>
<body>
  <h1>Bot Dashboard</h1>

  <% bots.forEach(bot => { %>
    <div style="border: 1px solid #000; margin: 10px; padding: 10px;">
      <h3><%= bot.client_name %> (<%= bot.token %>)</h3>
      <p>Approved: <%= bot.approved %></p>
      <p>Password Enabled: <%= bot.passwordEnabled %></p>
      <form action="/dashboard/approve" method="POST">
        <input type="hidden" name="token" value="<%= bot.token %>">
        <% if (!bot.approved) { %>
          <button type="submit">Approve</button>
        <% } %>
      </form>

      <form action="/dashboard/password" method="POST">
        <input type="hidden" name="token" value="<%= bot.token %>">
        <input type="checkbox" name="enable" value="true" <%= bot.passwordEnabled ? "checked" : "" %>> Enable Password
        <input type="text" name="password" placeholder="Set Password">
        <button type="submit">Update Password</button>
      </form>

      <h4>Servers:</h4>
      <ul>
        <% bot.servers.forEach(s => { %>
          <li><%= s.name %> | Invite: <%= s.invite %> | Admin: <%= s.admin %></li>
        <% }) %>
      </ul>
    </div>
  <% }) %>
</body>
</html>
